cinnamon {

  application = "lagom-bank-impl"

  # chmetrics.reporters += "console-reporter"

  slf4j {
    mdc {
      log-correlation += opentracing-correlation-id
      opentracing-trace-id {
        all-scopes = on
      }
    }
  }

  opentracing {
    auto-trace = off
    auto-trace = ${?OPENTRACING_AUTO_TRACE}
    akka {
      trace-system-messages = off
    }
    jaeger {
      host = "localhost"
      host = ${?JAEGER_HOST}
      port = 5775
      port = ${?JAEGER_PORT}
    }
  }

  akka {
    actors {
      default-by-class {
        includes = "/user/*"
        report-by = class
        excludes = ["akka.http.*", "akka.stream.*"]
        traceable = on
      }
    }

    persistence.entities {
      "/system/sharding/?/*" {
        report-by = group
        traceable = on
      }
    }

    http {
      clients {
        "*:*" {
          paths {
            "*" {
              traceable = on
            }
          }
        }
      }
      servers {
        "*:*" {
          paths {
            "*" {
              traceable = on
            }
          }
        }
      }
    }
  }

  lagom.http {
    servers {
      "*:*" {
        paths {
          "*" {
            metrics = on
            traceable = on
          }
        }
      }
    }
    clients {
      "*:*" {
        paths {
          "*" {
            metrics = on
            traceable = on
          }
        }
      }
    }
  }
}